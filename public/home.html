<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BUP Lost & Found | Campus Bulletin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />

    <style>
      :root {
        /* Reddit-inspired Dark Theme */
        --reddit-dark: #0b1426;
        --reddit-darker: #030712;
        --reddit-card: #1a1a1b;
        --reddit-card-hover: #272729;
        --reddit-orange: #ff4500;
        --reddit-orange-hover: #ff5722;
        --reddit-blue: #0079d3;
        --reddit-blue-hover: #1484d6;
        --reddit-text: #d7dadc;
        --reddit-text-secondary: #818384;
        --reddit-border: #343536;
        --reddit-accent: #46d39c;
        --reddit-purple: #7c3aed;
        --reddit-red: #ef4444;
        --reddit-green: #10b981;

        /* Gradients */
        --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --gradient-reddit: linear-gradient(135deg, #ff4500 0%, #ff6b35 100%);
        --gradient-success: linear-gradient(135deg, #10b981 0%, #059669 100%);
        --gradient-danger: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        --gradient-card: linear-gradient(145deg, #1a1a1b 0%, #2d2d30 100%);

        /* Shadows */
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
        --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
        --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);
        --shadow-reddit: 0 8px 32px rgba(255, 69, 0, 0.2);
        --shadow-glow: 0 0 20px rgba(255, 69, 0, 0.3);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background: var(--reddit-darker);
        color: var(--reddit-text);
        line-height: 1.6;
        overflow-x: hidden;
        scroll-behavior: smooth;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: var(--reddit-darker);
      }

      ::-webkit-scrollbar-thumb {
        background: var(--reddit-orange);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: var(--reddit-orange-hover);
      }

      /* Animated Background */
      .animated-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        background: radial-gradient(ellipse at top, #0b1426 0%, #030712 100%);
      }

      .animated-bg::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="0.5" fill="rgba(255,69,0,0.1)"/><circle cx="75" cy="75" r="0.5" fill="rgba(255,69,0,0.05)"/><circle cx="50" cy="10" r="0.3" fill="rgba(255,69,0,0.08)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        animation: float 30s ease-in-out infinite;
        opacity: 0.3;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        33% {
          transform: translateY(-10px) rotate(1deg);
        }
        66% {
          transform: translateY(5px) rotate(-1deg);
        }
      }

      /* Navigation */
      .nav-container {
        background: rgba(11, 20, 38, 0.95);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--reddit-border);
        box-shadow: var(--shadow-lg);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: fixed;
        width: 100%;
        z-index: 50;
        top: 0;
      }

      .nav-hidden {
        transform: translateY(-100%);
      }

      .nav-brand {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: var(--reddit-text);
        transition: all 0.3s ease;
      }

      .nav-brand:hover {
        transform: translateY(-2px);
      }

      .nav-logo {
        width: 48px;
        height: 48px;
        background: var(--gradient-reddit);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--shadow-reddit);
        transition: all 0.3s ease;
      }

      .nav-logo:hover {
        transform: scale(1.1);
        box-shadow: var(--shadow-glow);
      }

      .nav-logo i {
        color: white;
        font-size: 20px;
      }

      .nav-title {
        font-size: 24px;
        font-weight: 800;
        color: var(--reddit-text);
      }

      .nav-subtitle {
        font-size: 12px;
        color: var(--reddit-text-secondary);
        font-weight: 400;
      }

      /* Buttons */
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px 24px;
        font-weight: 600;
        text-decoration: none;
        border-radius: 8px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        border: none;
        font-size: 14px;
        position: relative;
        overflow: hidden;
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.5s;
      }

      .btn:hover::before {
        left: 100%;
      }

      .btn-primary {
        background: var(--gradient-reddit);
        color: white;
        box-shadow: var(--shadow-reddit);
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 40px rgba(255, 69, 0, 0.4);
      }

      .btn-secondary {
        background: rgba(255, 255, 255, 0.1);
        color: var(--reddit-text);
        border: 1px solid var(--reddit-border);
        backdrop-filter: blur(10px);
      }

      .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.2);
        border-color: var(--reddit-orange);
        transform: translateY(-2px);
      }

      /* Cards */
      .card {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 16px;
        box-shadow: var(--shadow-lg);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        overflow: hidden;
        position: relative;
      }

      .card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          var(--reddit-orange),
          transparent
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: var(--shadow-2xl);
        border-color: var(--reddit-orange);
      }

      .card:hover::before {
        opacity: 1;
      }

      /* Stats Cards */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 24px;
        margin-bottom: 48px;
      }

      .stat-card {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 16px;
        padding: 32px;
        text-align: center;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        transition: all 0.3s ease;
      }

      .stat-card.total::before {
        background: var(--gradient-reddit);
      }
      .stat-card.lost::before {
        background: var(--gradient-danger);
      }
      .stat-card.found::before {
        background: var(--gradient-success);
      }
      .stat-card.reunited::before {
        background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
      }

      .stat-card:hover {
        transform: translateY(-12px) scale(1.05);
        box-shadow: var(--shadow-2xl);
      }

      .stat-icon {
        width: 64px;
        height: 64px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 24px;
        color: white;
        transition: all 0.3s ease;
      }

      .stat-card.total .stat-icon {
        background: var(--gradient-reddit);
      }
      .stat-card.lost .stat-icon {
        background: var(--gradient-danger);
      }
      .stat-card.found .stat-icon {
        background: var(--gradient-success);
      }
      .stat-card.reunited .stat-icon {
        background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
      }

      .stat-card:hover .stat-icon {
        transform: scale(1.1) rotate(5deg);
      }

      .stat-number {
        font-size: 48px;
        font-weight: 900;
        color: var(--reddit-text);
        margin-bottom: 8px;
        transition: all 0.3s ease;
      }

      .stat-card:hover .stat-number {
        transform: scale(1.1);
      }

      .stat-label {
        font-size: 14px;
        color: var(--reddit-text-secondary);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      /* Search Section */
      .search-container {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 20px;
        padding: 32px;
        margin-bottom: 48px;
        box-shadow: var(--shadow-lg);
        transition: all 0.3s ease;
      }

      .search-container:hover {
        box-shadow: var(--shadow-xl);
        transform: translateY(-4px);
      }

      .search-input-group {
        position: relative;
        margin-bottom: 24px;
      }

      .search-input {
        width: 100%;
        padding: 16px 20px 16px 56px;
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid var(--reddit-border);
        border-radius: 12px;
        color: var(--reddit-text);
        font-size: 16px;
        transition: all 0.3s ease;
      }

      .search-input:focus {
        outline: none;
        border-color: var(--reddit-orange);
        box-shadow: 0 0 0 4px rgba(255, 69, 0, 0.1);
        background: rgba(255, 255, 255, 0.1);
      }

      .search-input::placeholder {
        color: var(--reddit-text-secondary);
      }

      .search-icon {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--reddit-text-secondary);
        font-size: 18px;
        transition: all 0.3s ease;
      }

      .search-input:focus + .search-icon {
        color: var(--reddit-orange);
      }

      /* Filter Buttons */
      .filter-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: center;
      }

      .filter-btn {
        padding: 12px 24px;
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid var(--reddit-border);
        border-radius: 12px;
        color: var(--reddit-text);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .filter-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--gradient-reddit);
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: -1;
      }

      .filter-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
      }

      .filter-btn.active {
        border-color: var(--reddit-orange);
        color: white;
      }

      .filter-btn.active::before {
        opacity: 1;
      }

      /* Items Grid */
      .items-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 32px;
        margin-bottom: 48px;
      }

      .item-card {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 16px;
        overflow: hidden;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        position: relative;
      }

      .item-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: var(--gradient-reddit);
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .item-card:hover {
        transform: translateY(-12px) scale(1.03);
        box-shadow: var(--shadow-2xl);
        border-color: var(--reddit-orange);
      }

      .item-card:hover::before {
        transform: scaleX(1);
      }

      .item-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        transition: transform 0.4s ease;
      }

      .item-card:hover .item-image {
        transform: scale(1.1);
      }

      .item-image-placeholder {
        width: 100%;
        height: 200px;
        background: linear-gradient(
          135deg,
          var(--reddit-card) 0%,
          var(--reddit-card-hover) 100%
        );
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--reddit-text-secondary);
        font-size: 48px;
      }

      .item-content {
        padding: 24px;
      }

      .item-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 16px;
      }

      .item-type {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .item-type.lost {
        background: var(--gradient-danger);
        color: white;
      }

      .item-type.found {
        background: var(--gradient-success);
        color: white;
      }

      .item-status {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 700;
        background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
        color: white;
      }

      .item-title {
        font-size: 20px;
        font-weight: 700;
        color: var(--reddit-text);
        margin-bottom: 12px;
        line-height: 1.3;
      }

      .item-description {
        color: var(--reddit-text-secondary);
        margin-bottom: 16px;
        line-height: 1.5;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .item-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--reddit-text-secondary);
      }

      .item-location {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .item-date {
        font-weight: 500;
      }

      /* Suggestions Section */
      .suggestions-section {
        margin-top: 64px;
      }

      .suggestion-form {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 16px;
        padding: 32px;
        margin-bottom: 32px;
        transition: all 0.3s ease;
      }

      .suggestion-form:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-xl);
      }

      .suggestion-input {
        width: 100%;
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid var(--reddit-border);
        border-radius: 12px;
        padding: 16px 20px;
        color: var(--reddit-text);
        font-size: 16px;
        resize: vertical;
        min-height: 120px;
        transition: all 0.3s ease;
      }

      .suggestion-input:focus {
        outline: none;
        border-color: var(--reddit-orange);
        box-shadow: 0 0 0 4px rgba(255, 69, 0, 0.1);
        background: rgba(255, 255, 255, 0.1);
      }

      .suggestion-input::placeholder {
        color: var(--reddit-text-secondary);
      }

      .suggestion-card {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 20px;
        transition: all 0.3s ease;
      }

      .suggestion-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
        border-color: var(--reddit-orange);
      }

      .suggestion-header {
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 16px;
      }

      .user-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid var(--reddit-border);
        transition: all 0.3s ease;
      }

      .suggestion-card:hover .user-avatar {
        border-color: var(--reddit-orange);
        transform: scale(1.1);
      }

      .user-info h4 {
        color: var(--reddit-text);
        font-weight: 600;
        margin-bottom: 4px;
      }

      .user-info .time {
        color: var(--reddit-text-secondary);
        font-size: 14px;
      }

      .suggestion-content {
        color: var(--reddit-text);
        line-height: 1.6;
        margin-bottom: 16px;
      }

      .suggestion-actions {
        display: flex;
        gap: 16px;
      }

      .suggestion-actions button {
        background: none;
        border: none;
        color: var(--reddit-text-secondary);
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .suggestion-actions button:hover {
        color: var(--reddit-orange);
        transform: translateY(-2px);
      }

      /* Loading States */
      .loading {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 64px 32px;
        color: var(--reddit-text-secondary);
      }

      .spinner {
        width: 48px;
        height: 48px;
        border: 4px solid var(--reddit-border);
        border-top: 4px solid var(--reddit-orange);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 16px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Toast Notifications */
      .toast {
        position: fixed;
        bottom: 32px;
        right: 32px;
        padding: 16px 24px;
        border-radius: 12px;
        color: white;
        font-weight: 600;
        box-shadow: var(--shadow-xl);
        transform: translateX(400px);
        transition: transform 0.3s ease;
        z-index: 1000;
      }

      .toast.show {
        transform: translateX(0);
      }

      .toast.success {
        background: var(--gradient-success);
      }

      .toast.error {
        background: var(--gradient-danger);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
        }

        .items-grid {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .filter-buttons {
          flex-direction: column;
          align-items: stretch;
        }

        .card:hover {
          transform: translateY(-4px) scale(1.01);
        }

        .item-card:hover {
          transform: translateY(-6px) scale(1.02);
        }
      }

      /* Profile Section */
      .profile-section {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .profile-link {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: var(--reddit-text);
        background: rgba(255, 255, 255, 0.05);
        padding: 12px 16px;
        border-radius: 12px;
        border: 1px solid var(--reddit-border);
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
      }

      .profile-link:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: var(--reddit-orange);
        transform: translateY(-2px);
      }

      .profile-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid var(--reddit-border);
        position: relative;
      }

      .profile-avatar::after {
        content: "";
        position: absolute;
        bottom: -2px;
        right: -2px;
        width: 12px;
        height: 12px;
        background: var(--reddit-green);
        border: 2px solid var(--reddit-card);
        border-radius: 50%;
      }

      .profile-info {
        display: flex;
        flex-direction: column;
      }

      .profile-name {
        font-weight: 600;
        font-size: 14px;
        margin-bottom: 2px;
      }

      .profile-label {
        font-size: 12px;
        color: var(--reddit-text-secondary);
      }

      /* Section Headers */
      .section-header {
        display: flex;
        justify-content: between;
        align-items: center;
        margin-bottom: 32px;
      }

      .section-title {
        font-size: 32px;
        font-weight: 800;
        color: var(--reddit-text);
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .section-accent {
        width: 4px;
        height: 32px;
        background: var(--gradient-reddit);
        border-radius: 2px;
      }

      .view-all-btn {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--reddit-border);
        padding: 12px 20px;
        border-radius: 8px;
        color: var(--reddit-text);
        text-decoration: none;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
      }

      .view-all-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: var(--reddit-orange);
        transform: translateY(-2px);
      }

      /* Hero Section */
      .hero-section {
        text-align: center;
        margin-bottom: 64px;
        padding: 64px 0;
      }

      .hero-title {
        font-size: clamp(40px, 8vw, 72px);
        font-weight: 900;
        color: var(--reddit-text);
        margin-bottom: 24px;
        line-height: 1.1;
        background: linear-gradient(
          135deg,
          var(--reddit-text) 0%,
          var(--reddit-orange) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .hero-subtitle {
        font-size: clamp(18px, 4vw, 24px);
        color: var(--reddit-text-secondary);
        margin-bottom: 16px;
        font-weight: 300;
      }

      .hero-description {
        font-size: 18px;
        color: var(--reddit-text-secondary);
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
      }

      /* Container */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 24px;
      }

      .pt-nav {
        padding-top: 120px;
      }

      /* Utilities */
      .text-center {
        text-align: center;
      }
      .mb-8 {
        margin-bottom: 32px;
      }
      .mb-16 {
        margin-bottom: 64px;
      }

      .flex {
        display: flex;
      }
      .items-center {
        align-items: center;
      }
      .justify-between {
        justify-content: space-between;
      }
      .gap-4 {
        gap: 16px;
      }
      .gap-6 {
        gap: 24px;
      }
    </style>
  </head>
  <body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>

    <!-- Navigation Bar -->
    <nav id="navbar" class="nav-container">
      <div class="container">
        <div class="flex items-center justify-between" style="padding: 16px 0">
          <a href="#" class="nav-brand">
            <div class="nav-logo">
              <i class="fas fa-search-location"></i>
            </div>
            <div>
              <div class="nav-title">BUP Lost & Found</div>
              <div class="nav-subtitle">Campus Bulletin System</div>
            </div>
          </a>

          <div class="flex items-center gap-4">
            <button id="postItemBtn" class="btn btn-primary">
              <i class="fas fa-plus"></i>
              <span>Post Item</span>
            </button>

            <!-- Profile Section -->
            <div class="profile-section">
              <a href="profile.html" class="profile-link" id="profileLink">
                <img
                  id="profileImage"
                  src="https://images.pexels.com/photos/771742/pexels-photo-771742.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"
                  alt="Profile"
                  class="profile-avatar"
                />
                <div class="profile-info">
                  <span id="userName" class="profile-name">Loading...</span>
                  <span class="profile-label">View Profile</span>
                </div>
              </a>

              <button id="logoutBtn" class="btn btn-secondary">
                <i class="fas fa-sign-out-alt"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="container pt-nav">
      <!-- Hero Section -->
      <section class="hero-section">
        <h1 class="hero-title">Campus Lost & Found</h1>
        <p class="hero-subtitle">Reuniting Items with Owners</p>
        <p class="hero-description">
          Advanced bulletin system for Bangladesh University of Professionals
          community
        </p>
      </section>

      <!-- Search and Filter Section -->
      <section class="search-container">
        <div class="search-input-group">
          <input
            type="text"
            id="searchInput"
            class="search-input"
            placeholder="Search for lost or found items..."
          />
          <i class="fas fa-search search-icon"></i>
        </div>

        <div class="filter-buttons">
          <button id="filterAll" class="filter-btn active">
            <i class="fas fa-th-large"></i>
            All Items
          </button>
          <button id="filterLost" class="filter-btn">
            <i class="fas fa-question-circle"></i>
            Lost Items
          </button>
          <button id="filterFound" class="filter-btn">
            <i class="fas fa-check-circle"></i>
            Found Items
          </button>
        </div>
      </section>

      <!-- Statistics Cards -->
      <section class="stats-grid">
        <div class="stat-card total">
          <div class="stat-icon">
            <i class="fas fa-boxes"></i>
          </div>
          <div class="stat-number" id="totalItems">0</div>
          <div class="stat-label">Total Items</div>
        </div>

        <div class="stat-card lost">
          <div class="stat-icon">
            <i class="fas fa-question-circle"></i>
          </div>
          <div class="stat-number" id="lostItems">0</div>
          <div class="stat-label">Lost Items</div>
        </div>

        <div class="stat-card found">
          <div class="stat-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="stat-number" id="foundItems">0</div>
          <div class="stat-label">Found Items</div>
        </div>

        <div class="stat-card reunited">
          <div class="stat-icon">
            <i class="fas fa-hands-helping"></i>
          </div>
          <div class="stat-number" id="reunitedItems">0</div>
          <div class="stat-label">Reunited</div>
        </div>
      </section>

      <!-- Items Section -->
      <section class="mb-16">
        <div class="section-header">
          <h2 class="section-title">
            <div class="section-accent"></div>
            Recent Items
          </h2>
          <button id="viewAllItemsBtn" class="view-all-btn">
            View All
            <i class="fas fa-arrow-right"></i>
          </button>
        </div>

        <div id="itemsContainer" class="items-grid">
          <!-- Loading state -->
          <div class="loading" style="grid-column: 1 / -1">
            <div class="spinner"></div>
            <p>Loading items...</p>
          </div>
        </div>
      </section>

      <!-- Suggestions Section -->
      <section class="suggestions-section">
        <div class="section-header">
          <h2 class="section-title">
            <div class="section-accent"></div>
            Community Suggestions
          </h2>
        </div>

        <!-- Post Suggestion -->
        <div class="suggestion-form">
          <div class="flex items-start gap-4">
            <img
              id="currentUserImage"
              src="https://images.pexels.com/photos/771742/pexels-photo-771742.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"
              alt="You"
              class="user-avatar"
            />
            <div style="flex: 1">
              <textarea
                id="suggestionInput"
                class="suggestion-input"
                placeholder="Share your suggestions to improve our service..."
              ></textarea>
              <div
                style="
                  display: flex;
                  justify-content: flex-end;
                  margin-top: 16px;
                "
              >
                <button id="postSuggestionBtn" class="btn btn-primary">
                  Post Suggestion
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Suggestions List -->
        <div id="suggestionsContainer">
          <!-- Loading state -->
          <div class="loading">
            <div class="spinner"></div>
            <p>Loading suggestions...</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <script>
      // Global variables
      let currentUser = null;
      let currentFilter = "all";
      let currentSearchTerm = "";

      // DOM Elements
      const profileImage = document.getElementById("profileImage");
      const currentUserImage = document.getElementById("currentUserImage");
      const userName = document.getElementById("userName");
      const searchInput = document.getElementById("searchInput");
      const filterAll = document.getElementById("filterAll");
      const filterLost = document.getElementById("filterLost");
      const filterFound = document.getElementById("filterFound");
      const totalItems = document.getElementById("totalItems");
      const lostItems = document.getElementById("lostItems");
      const foundItems = document.getElementById("foundItems");
      const reunitedItems = document.getElementById("reunitedItems");
      const itemsContainer = document.getElementById("itemsContainer");
      const suggestionInput = document.getElementById("suggestionInput");
      const postSuggestionBtn = document.getElementById("postSuggestionBtn");
      const suggestionsContainer = document.getElementById(
        "suggestionsContainer"
      );
      const postItemBtn = document.getElementById("postItemBtn");
      const viewAllItemsBtn = document.getElementById("viewAllItemsBtn");
      const logoutBtn = document.getElementById("logoutBtn");
      const navbar = document.getElementById("navbar");

      // Initialize the page
      document.addEventListener("DOMContentLoaded", async () => {
        await checkAuth();
        await loadUserData();
        await loadStats();
        await loadItems();
        await loadSuggestions();
        setupEventListeners();
        setupNavbarScroll();
      });

      // Check authentication
      async function checkAuth() {
        const token = localStorage.getItem("token");
        if (!token) {
          window.location.href = "login.html";
          return;
        }
      }

      // Load user data
      async function loadUserData() {
        try {
          const response = await fetch("/api/users/me", {
            headers: {
              Authorization: `Bearer ${localStorage.getItem("token")}`,
            },
          });

          if (!response.ok) {
            throw new Error("Failed to fetch user data");
          }

          const data = await response.json();
          currentUser = data.user;

          // Update UI with user data
          const userImageUrl =
            currentUser.profileImage ||
            "https://images.pexels.com/photos/771742/pexels-photo-771742.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop";
          profileImage.src = userImageUrl;
          currentUserImage.src = userImageUrl;
          userName.textContent = `${currentUser.firstName} ${currentUser.lastName}`;
        } catch (error) {
          console.error("Error loading user data:", error);
          showToast("Failed to load user data", "error");
          setTimeout(() => {
            window.location.href = "login.html";
          }, 2000);
        }
      }

      // Load statistics
      async function loadStats() {
        try {
          const response = await fetch("/api/stats", {
            headers: {
              Authorization: `Bearer ${localStorage.getItem("token")}`,
            },
          });

          if (!response.ok) {
            throw new Error("Failed to fetch stats");
          }

          const data = await response.json();

          // Update stats with animation
          animateValue(
            totalItems,
            0,
            data.stats.lostCount + data.stats.foundCount,
            1500
          );
          animateValue(lostItems, 0, data.stats.lostCount, 1500);
          animateValue(foundItems, 0, data.stats.foundCount, 1500);
          animateValue(reunitedItems, 0, data.stats.reunitedCount, 1500);
        } catch (error) {
          console.error("Error loading stats:", error);
          totalItems.textContent = "--";
          lostItems.textContent = "--";
          foundItems.textContent = "--";
          reunitedItems.textContent = "--";
        }
      }

      // Animate counter values
      function animateValue(element, start, end, duration) {
        let startTimestamp = null;
        const step = (timestamp) => {
          if (!startTimestamp) startTimestamp = timestamp;
          const progress = Math.min((timestamp - startTimestamp) / duration, 1);
          element.textContent = Math.floor(progress * (end - start) + start);
          if (progress < 1) {
            window.requestAnimationFrame(step);
          }
        };
        window.requestAnimationFrame(step);
      }

      // Load items
      async function loadItems() {
        try {
          showLoading(itemsContainer, "Loading items...");

          let url = "/api/items";
          const params = new URLSearchParams();

          if (currentFilter !== "all") {
            params.append("type", currentFilter);
          }
          if (currentSearchTerm) {
            params.append("search", currentSearchTerm);
          }

          if (params.toString()) {
            url += "?" + params.toString();
          }

          const response = await fetch(url, {
            headers: {
              Authorization: `Bearer ${localStorage.getItem("token")}`,
            },
          });

          if (!response.ok) {
            throw new Error("Failed to fetch items");
          }

          const data = await response.json();
          renderItems(data.items);
        } catch (error) {
          console.error("Error loading items:", error);
          showError(
            itemsContainer,
            "Failed to load items. Please try again later."
          );
        }
      }

      // Show loading state
      function showLoading(container, message) {
        container.innerHTML = `
          <div class="loading" style="grid-column: 1 / -1;">
            <div class="spinner"></div>
            <p>${message}</p>
          </div>
        `;
      }

      // Show error state
      function showError(container, message) {
        container.innerHTML = `
          <div class="loading" style="grid-column: 1 / -1;">
            <div style="color: var(--reddit-red); font-size: 48px; margin-bottom: 16px;">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <p style="margin-bottom: 16px;">${message}</p>
            <button onclick="loadItems()" class="btn btn-primary">
              Try Again
            </button>
          </div>
        `;
      }

      // Render items
      function renderItems(items) {
        if (items.length === 0) {
          itemsContainer.innerHTML = `
            <div class="loading" style="grid-column: 1 / -1;">
              <div style="color: var(--reddit-text-secondary); font-size: 48px; margin-bottom: 16px;">
                <i class="fas fa-box-open"></i>
              </div>
              <p>No items found</p>
              ${
                currentSearchTerm
                  ? `<p style="color: var(--reddit-text-secondary); font-size: 14px; margin-top: 8px;">Try a different search term</p>`
                  : ""
              }
            </div>
          `;
          return;
        }

        itemsContainer.innerHTML = items
          .slice(0, 6)
          .map(
            (item) => `
          <div class="item-card" data-id="${item._id}">
            <div style="position: relative; overflow: hidden;">
              ${
                item.image
                  ? `<img src="${item.image}" alt="${item.title}" class="item-image">`
                  : `<div class="item-image-placeholder">
                     <i class="fas fa-image"></i>
                   </div>`
              }
              <div style="position: absolute; bottom: 16px; left: 16px; right: 16px; display: flex; justify-content: space-between; align-items: center;">
                <span class="item-type ${item.type}">
                  ${item.type === "lost" ? "Lost" : "Found"}
                </span>
                ${
                  item.status === "claimed"
                    ? `<span class="item-status">Reunited</span>`
                    : ""
                }
              </div>
            </div>
            <div class="item-content">
              <h3 class="item-title">${item.title}</h3>
              <p class="item-description">${item.description}</p>
              <div class="item-footer">
                <div class="item-location">
                  <i class="fas fa-map-marker-alt"></i>
                  ${item.location}
                </div>
                <div class="item-date">
                  ${new Date(item.createdAt).toLocaleDateString()}
                </div>
              </div>
            </div>
          </div>
        `
          )
          .join("");

        // Add click handlers
        document.querySelectorAll(".item-card").forEach((card) => {
          card.addEventListener("click", () => {
            const itemId = card.getAttribute("data-id");
            window.location.href = `item.html?id=${itemId}`;
          });
        });
      }

      // Load suggestions
      async function loadSuggestions() {
        try {
          showLoading(suggestionsContainer, "Loading suggestions...");

          const response = await fetch("/api/suggestions", {
            headers: {
              Authorization: `Bearer ${localStorage.getItem("token")}`,
            },
          });

          if (!response.ok) {
            throw new Error("Failed to fetch suggestions");
          }

          const data = await response.json();
          renderSuggestions(data.suggestions);
        } catch (error) {
          console.error("Error loading suggestions:", error);
          showError(
            suggestionsContainer,
            "Failed to load suggestions. Please try again later."
          );
        }
      }

      // Render suggestions
      function renderSuggestions(suggestions) {
        if (suggestions.length === 0) {
          suggestionsContainer.innerHTML = `
            <div class="loading">
              <div style="color: var(--reddit-text-secondary); font-size: 48px; margin-bottom: 16px;">
                <i class="fas fa-comment-slash"></i>
              </div>
              <p>No suggestions yet. Be the first to share!</p>
            </div>
          `;
          return;
        }

        suggestionsContainer.innerHTML = suggestions
          .map(
            (suggestion) => `
          <div class="suggestion-card" data-id="${suggestion._id}">
            <div class="suggestion-header">
              <img src="${
                suggestion.postedBy.profileImage ||
                "https://images.pexels.com/photos/771742/pexels-photo-771742.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop"
              }" 
                   alt="${suggestion.postedBy.firstName}" 
                   class="user-avatar">
              <div class="user-info">
                <h4>${suggestion.postedBy.firstName} ${
              suggestion.postedBy.lastName
            }</h4>
                <span class="time">${formatTimeAgo(
                  new Date(suggestion.createdAt)
                )}</span>
              </div>
            </div>
            <div class="suggestion-content">${suggestion.content}</div>
            ${
              suggestion.postedBy._id === currentUser._id
                ? `<div class="suggestion-actions">
                   <button class="edit-suggestion-btn" data-id="${suggestion._id}">
                     <i class="fas fa-edit"></i>
                     Edit
                   </button>
                   <button class="delete-suggestion-btn" data-id="${suggestion._id}">
                     <i class="fas fa-trash"></i>
                     Delete
                   </button>
                 </div>`
                : ""
            }
          </div>
        `
          )
          .join("");

        // Add event listeners for edit/delete buttons
        document.querySelectorAll(".edit-suggestion-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.stopPropagation();
            const suggestionId = btn.getAttribute("data-id");
            editSuggestion(suggestionId);
          });
        });

        document.querySelectorAll(".delete-suggestion-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.stopPropagation();
            const suggestionId = btn.getAttribute("data-id");
            deleteSuggestion(suggestionId);
          });
        });
      }

      // Format time ago
      function formatTimeAgo(date) {
        const seconds = Math.floor((new Date() - date) / 1000);

        let interval = Math.floor(seconds / 31536000);
        if (interval >= 1) return `${interval}y ago`;

        interval = Math.floor(seconds / 2592000);
        if (interval >= 1) return `${interval}mo ago`;

        interval = Math.floor(seconds / 86400);
        if (interval >= 1) return `${interval}d ago`;

        interval = Math.floor(seconds / 3600);
        if (interval >= 1) return `${interval}h ago`;

        interval = Math.floor(seconds / 60);
        if (interval >= 1) return `${interval}m ago`;

        return "Just now";
      }

      // Post new suggestion
      async function postSuggestion() {
        const content = suggestionInput.value.trim();
        if (!content) {
          showToast("Please enter your suggestion", "error");
          return;
        }

        try {
          postSuggestionBtn.disabled = true;
          postSuggestionBtn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Posting...';

          const response = await fetch("/api/suggestions", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${localStorage.getItem("token")}`,
            },
            body: JSON.stringify({ content }),
          });

          if (!response.ok) {
            throw new Error("Failed to post suggestion");
          }

          suggestionInput.value = "";
          showToast("Suggestion posted successfully!", "success");
          await loadSuggestions();
        } catch (error) {
          console.error("Error posting suggestion:", error);
          showToast("Failed to post suggestion. Please try again.", "error");
        } finally {
          postSuggestionBtn.disabled = false;
          postSuggestionBtn.innerHTML = "Post Suggestion";
        }
      }

      // Show toast notification
      function showToast(message, type) {
        const toast = document.createElement("div");
        toast.className = `toast ${type}`;
        toast.innerHTML = `
          <div style="display: flex; align-items: center; gap: 12px;">
            <i class="fas ${
              type === "success" ? "fa-check-circle" : "fa-exclamation-circle"
            }"></i>
            <span>${message}</span>
          </div>
        `;

        document.getElementById("toastContainer").appendChild(toast);

        // Show toast
        setTimeout(() => toast.classList.add("show"), 100);

        // Hide and remove toast
        setTimeout(() => {
          toast.classList.remove("show");
          setTimeout(() => toast.remove(), 300);
        }, 3000);
      }

      // Edit suggestion
      async function editSuggestion(suggestionId) {
        const suggestionCard = document.querySelector(
          `[data-id="${suggestionId}"]`
        );
        const contentElement = suggestionCard.querySelector(
          ".suggestion-content"
        );
        const originalContent = contentElement.textContent;

        contentElement.innerHTML = `
          <textarea class="suggestion-input" style="margin-bottom: 16px; min-height: 80px;" rows="3">${originalContent}</textarea>
          <div style="display: flex; justify-content: flex-end; gap: 12px;">
            <button class="save-edit-btn btn btn-primary" style="padding: 8px 16px; font-size: 14px;">
              Save
            </button>
            <button class="cancel-edit-btn btn btn-secondary" style="padding: 8px 16px; font-size: 14px;">
              Cancel
            </button>
          </div>
        `;

        const textarea = contentElement.querySelector("textarea");
        textarea.focus();
        textarea.selectionStart = textarea.selectionEnd = textarea.value.length;

        const saveBtn = contentElement.querySelector(".save-edit-btn");
        const cancelBtn = contentElement.querySelector(".cancel-edit-btn");

        saveBtn.addEventListener("click", async () => {
          const newContent = textarea.value.trim();
          if (!newContent) {
            showToast("Suggestion cannot be empty", "error");
            return;
          }

          try {
            saveBtn.disabled = true;
            saveBtn.innerHTML =
              '<i class="fas fa-spinner fa-spin"></i> Saving...';

            const response = await fetch(`/api/suggestions/${suggestionId}`, {
              method: "PUT",
              headers: {
                "Content-Type": "application/json",
                Authorization: `Bearer ${localStorage.getItem("token")}`,
              },
              body: JSON.stringify({ content: newContent }),
            });

            if (!response.ok) {
              throw new Error("Failed to update suggestion");
            }

            showToast("Suggestion updated successfully!", "success");
            await loadSuggestions();
          } catch (error) {
            console.error("Error updating suggestion:", error);
            showToast(
              "Failed to update suggestion. Please try again.",
              "error"
            );
          }
        });

        cancelBtn.addEventListener("click", () => {
          contentElement.innerHTML = originalContent;
        });
      }

      // Delete suggestion
      async function deleteSuggestion(suggestionId) {
        if (!confirm("Are you sure you want to delete this suggestion?")) {
          return;
        }

        try {
          const response = await fetch(`/api/suggestions/${suggestionId}`, {
            method: "DELETE",
            headers: {
              Authorization: `Bearer ${localStorage.getItem("token")}`,
            },
          });

          if (!response.ok) {
            throw new Error("Failed to delete suggestion");
          }

          showToast("Suggestion deleted successfully!", "success");
          await loadSuggestions();
        } catch (error) {
          console.error("Error deleting suggestion:", error);
          showToast("Failed to delete suggestion. Please try again.", "error");
        }
      }

      // Logout function
      async function logout() {
        try {
          localStorage.removeItem("token");
          localStorage.removeItem("user");
          showToast("Logged out successfully!", "success");
          setTimeout(() => {
            window.location.href = "login.html";
          }, 1000);
        } catch (error) {
          console.error("Logout error:", error);
          localStorage.removeItem("token");
          localStorage.removeItem("user");
          window.location.href = "login.html";
        }
      }

      // Setup event listeners
      function setupEventListeners() {
        // Search functionality
        searchInput.addEventListener(
          "input",
          debounce(() => {
            currentSearchTerm = searchInput.value.trim();
            loadItems();
          }, 500)
        );

        searchInput.addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            currentSearchTerm = searchInput.value.trim();
            loadItems();
          }
        });

        // Filter buttons
        filterAll.addEventListener("click", () => {
          currentFilter = "all";
          updateFilterButtons();
          loadItems();
        });

        filterLost.addEventListener("click", () => {
          currentFilter = "lost";
          updateFilterButtons();
          loadItems();
        });

        filterFound.addEventListener("click", () => {
          currentFilter = "found";
          updateFilterButtons();
          loadItems();
        });

        // Post suggestion
        postSuggestionBtn.addEventListener("click", postSuggestion);

        // Post item button
        postItemBtn.addEventListener("click", () => {
          window.location.href = "post-item.html";
        });

        // View all items button
        viewAllItemsBtn.addEventListener("click", () => {
          currentFilter = "all";
          currentSearchTerm = "";
          searchInput.value = "";
          updateFilterButtons();
          loadItems();
        });

        // Logout button
        logoutBtn.addEventListener("click", logout);
      }

      // Debounce function
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      // Setup navbar scroll behavior
      function setupNavbarScroll() {
        let lastScrollTop = 0;
        window.addEventListener(
          "scroll",
          () => {
            let currentScrollTop =
              window.pageYOffset || document.documentElement.scrollTop;
            if (currentScrollTop > lastScrollTop && currentScrollTop > 100) {
              navbar.classList.add("nav-hidden");
            } else {
              navbar.classList.remove("nav-hidden");
            }
            lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop;
          },
          { passive: true }
        );
      }

      // Update filter buttons active state
      function updateFilterButtons() {
        // Remove active states
        [filterAll, filterLost, filterFound].forEach((btn) => {
          btn.classList.remove("active");
        });

        // Add active state
        if (currentFilter === "all") {
          filterAll.classList.add("active");
        } else if (currentFilter === "lost") {
          filterLost.classList.add("active");
        } else if (currentFilter === "found") {
          filterFound.classList.add("active");
        }
      }
    </script>
  </body>
</html>
