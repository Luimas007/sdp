<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BUP Lost & Found | Campus Bulletin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />

    <style>
      :root {
        /* Enhanced Color Palette */
        --reddit-dark: #0b1426;
        --reddit-darker: #030712;
        --reddit-card: #1a1a1b;
        --reddit-card-hover: #272729;
        --reddit-orange: #ff4500;
        --reddit-orange-hover: #ff5722;
        --reddit-blue: #0079d3;
        --reddit-blue-hover: #1484d6;
        --reddit-text: #d7dadc;
        --reddit-text-secondary: #818384;
        --reddit-border: #343536;
        --reddit-accent: #46d39c;
        --reddit-purple: #7c3aed;
        --reddit-red: #ef4444;
        --reddit-green: #10b981;
        --reddit-yellow: #f59e0b;

        /* Enhanced Gradients */
        --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --gradient-reddit: linear-gradient(135deg, #ff4500 0%, #ff6b35 100%);
        --gradient-success: linear-gradient(135deg, #10b981 0%, #059669 100%);
        --gradient-danger: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        --gradient-warning: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        --gradient-purple: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
        --gradient-card: linear-gradient(145deg, #1a1a1b 0%, #2d2d30 100%);
        --gradient-glass: linear-gradient(
          145deg,
          rgba(255, 255, 255, 0.1) 0%,
          rgba(255, 255, 255, 0.05) 100%
        );

        /* Enhanced Shadows */
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
        --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
        --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);
        --shadow-reddit: 0 8px 32px rgba(255, 69, 0, 0.2);
        --shadow-glow: 0 0 20px rgba(255, 69, 0, 0.3);
        --shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.1);

        /* Animation Variables */
        --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        --transition-normal: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background: var(--reddit-darker);
        color: var(--reddit-text);
        line-height: 1.6;
        overflow-x: hidden;
        scroll-behavior: smooth;
      }

      /* Enhanced Scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
      }

      ::-webkit-scrollbar-track {
        background: var(--reddit-darker);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb {
        background: var(--gradient-reddit);
        border-radius: 5px;
        border: 2px solid var(--reddit-darker);
      }

      ::-webkit-scrollbar-thumb:hover {
        background: var(--reddit-orange-hover);
      }

      /* Enhanced Animated Background */
      .animated-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        background: radial-gradient(ellipse at top, #0b1426 0%, #030712 100%);
        overflow: hidden;
      }

      .animated-bg::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 200%;
        height: 200%;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="0.5" fill="rgba(255,69,0,0.1)"/><circle cx="75" cy="75" r="0.5" fill="rgba(255,69,0,0.05)"/><circle cx="50" cy="10" r="0.3" fill="rgba(255,69,0,0.08)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        animation: float 30s ease-in-out infinite;
        opacity: 0.3;
      }

      .animated-bg::after {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: conic-gradient(
          from 0deg at 50% 50%,
          transparent 0deg,
          rgba(255, 69, 0, 0.03) 90deg,
          transparent 180deg,
          rgba(255, 69, 0, 0.03) 270deg,
          transparent 360deg
        );
        animation: rotate 60s linear infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        33% {
          transform: translateY(-10px) rotate(1deg);
        }
        66% {
          transform: translateY(5px) rotate(-1deg);
        }
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      /* Enhanced Navigation */
      .nav-container {
        background: rgba(11, 20, 38, 0.95);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-bottom: 1px solid var(--reddit-border);
        box-shadow: var(--shadow-lg);
        transition: var(--transition-normal);
        position: fixed;
        width: 100%;
        z-index: 50;
        top: 0;
      }

      .nav-hidden {
        transform: translateY(-100%);
        opacity: 0.8;
      }

      .nav-brand {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: var(--reddit-text);
        transition: var(--transition-normal);
      }

      .nav-brand:hover {
        transform: translateY(-2px);
      }

      .nav-logo {
        width: 48px;
        height: 48px;
        background: var(--gradient-reddit);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--shadow-reddit);
        transition: var(--transition-normal);
        position: relative;
        overflow: hidden;
      }

      .nav-logo::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s;
      }

      .nav-logo:hover::before {
        left: 100%;
      }

      .nav-logo:hover {
        transform: scale(1.1) rotate(5deg);
        box-shadow: var(--shadow-glow);
      }

      .nav-logo i {
        color: white;
        font-size: 20px;
        z-index: 1;
      }

      .nav-title {
        font-size: 24px;
        font-weight: 800;
        color: var(--reddit-text);
        background: linear-gradient(
          135deg,
          var(--reddit-text) 0%,
          var(--reddit-orange) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .nav-subtitle {
        font-size: 12px;
        color: var(--reddit-text-secondary);
        font-weight: 400;
      }

      /* Enhanced Buttons */
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px 24px;
        font-weight: 600;
        text-decoration: none;
        border-radius: 12px;
        transition: var(--transition-normal);
        cursor: pointer;
        border: none;
        font-size: 14px;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.5s;
      }

      .btn:hover::before {
        left: 100%;
      }

      .btn-primary {
        background: var(--gradient-reddit);
        color: white;
        box-shadow: var(--shadow-reddit);
        border: 1px solid rgba(255, 69, 0, 0.3);
      }

      .btn-primary:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 15px 45px rgba(255, 69, 0, 0.4);
      }

      .btn-secondary {
        background: var(--gradient-glass);
        color: var(--reddit-text);
        border: 1px solid var(--reddit-border);
        backdrop-filter: blur(10px);
      }

      .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.15);
        border-color: var(--reddit-orange);
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }

      .btn-success {
        background: var(--gradient-success);
        color: white;
        box-shadow: 0 8px 32px rgba(16, 185, 129, 0.2);
      }

      .btn-success:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 15px 45px rgba(16, 185, 129, 0.4);
      }

      .btn-warning {
        background: var(--gradient-warning);
        color: white;
        box-shadow: 0 8px 32px rgba(245, 158, 11, 0.2);
      }

      .btn-warning:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 15px 45px rgba(245, 158, 11, 0.4);
      }

      /* Enhanced Cards */
      .card {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 20px;
        box-shadow: var(--shadow-lg);
        transition: var(--transition-normal);
        overflow: hidden;
        position: relative;
        backdrop-filter: blur(10px);
      }

      .card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: var(--gradient-reddit);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .card:hover {
        transform: translateY(-10px) scale(1.02);
        box-shadow: var(--shadow-2xl);
        border-color: rgba(255, 69, 0, 0.5);
      }

      .card:hover::before {
        opacity: 1;
      }

      /* Enhanced Stats Cards */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 24px;
        margin-bottom: 48px;
      }

      .stat-card {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 20px;
        padding: 32px;
        text-align: center;
        transition: var(--transition-normal);
        position: relative;
        overflow: hidden;
        cursor: pointer;
        backdrop-filter: blur(10px);
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        transition: var(--transition-normal);
      }

      .stat-card::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at center,
          rgba(255, 69, 0, 0.1) 0%,
          transparent 70%
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .stat-card.total::before {
        background: var(--gradient-reddit);
      }
      .stat-card.lost::before {
        background: var(--gradient-danger);
      }
      .stat-card.found::before {
        background: var(--gradient-success);
      }
      .stat-card.reunited::before {
        background: var(--gradient-purple);
      }

      .stat-card:hover {
        transform: translateY(-15px) scale(1.05);
        box-shadow: var(--shadow-2xl);
        border-color: rgba(255, 69, 0, 0.5);
      }

      .stat-card:hover::after {
        opacity: 1;
      }

      .stat-icon {
        width: 80px;
        height: 80px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 32px;
        color: white;
        transition: var(--transition-normal);
        position: relative;
        overflow: hidden;
      }

      .stat-icon::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s;
      }

      .stat-card:hover .stat-icon::before {
        left: 100%;
      }

      .stat-card.total .stat-icon {
        background: var(--gradient-reddit);
      }
      .stat-card.lost .stat-icon {
        background: var(--gradient-danger);
      }
      .stat-card.found .stat-icon {
        background: var(--gradient-success);
      }
      .stat-card.reunited .stat-icon {
        background: var(--gradient-purple);
      }

      .stat-card:hover .stat-icon {
        transform: scale(1.1) rotate(10deg);
      }

      .stat-number {
        font-size: 56px;
        font-weight: 900;
        color: var(--reddit-text);
        margin-bottom: 8px;
        transition: var(--transition-normal);
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .stat-card:hover .stat-number {
        transform: scale(1.1);
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      }

      .stat-label {
        font-size: 16px;
        color: var(--reddit-text-secondary);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      /* Enhanced Search Section */
      .search-container {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 24px;
        padding: 40px;
        margin-bottom: 48px;
        box-shadow: var(--shadow-lg);
        transition: var(--transition-normal);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .search-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at top right,
          rgba(255, 69, 0, 0.05) 0%,
          transparent 50%
        );
        pointer-events: none;
      }

      .search-container:hover {
        box-shadow: var(--shadow-xl);
        transform: translateY(-5px);
        border-color: rgba(255, 69, 0, 0.3);
      }

      .search-input-group {
        position: relative;
        margin-bottom: 32px;
      }

      .search-input {
        width: 100%;
        padding: 20px 24px 20px 64px;
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid var(--reddit-border);
        border-radius: 16px;
        color: var(--reddit-text);
        font-size: 18px;
        transition: var(--transition-normal);
        backdrop-filter: blur(10px);
      }

      .search-input:focus {
        outline: none;
        border-color: var(--reddit-orange);
        box-shadow: 0 0 0 6px rgba(255, 69, 0, 0.1);
        background: rgba(255, 255, 255, 0.1);
        transform: scale(1.02);
      }

      .search-input::placeholder {
        color: var(--reddit-text-secondary);
      }

      .search-icon {
        position: absolute;
        left: 24px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--reddit-text-secondary);
        font-size: 20px;
        transition: var(--transition-normal);
      }

      .search-input:focus + .search-icon {
        color: var(--reddit-orange);
        transform: translateY(-50%) scale(1.1);
      }

      /* Enhanced Filter Buttons */
      .filter-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        justify-content: center;
      }

      .filter-btn {
        padding: 16px 32px;
        background: var(--gradient-glass);
        border: 2px solid var(--reddit-border);
        border-radius: 16px;
        color: var(--reddit-text);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-normal);
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 16px;
      }

      .filter-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--gradient-reddit);
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: -1;
      }

      .filter-btn:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: var(--shadow-lg);
        border-color: var(--reddit-orange);
      }

      .filter-btn.active {
        border-color: var(--reddit-orange);
        color: white;
        box-shadow: var(--shadow-reddit);
      }

      .filter-btn.active::before {
        opacity: 1;
      }

      /* Enhanced Items Grid */
      .items-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 32px;
        margin-bottom: 48px;
      }

      .item-card {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 20px;
        overflow: hidden;
        transition: var(--transition-normal);
        cursor: pointer;
        position: relative;
        backdrop-filter: blur(10px);
      }

      .item-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--gradient-reddit);
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .item-card:hover {
        transform: translateY(-15px) scale(1.03);
        box-shadow: var(--shadow-2xl);
        border-color: rgba(255, 69, 0, 0.5);
      }

      .item-card:hover::before {
        transform: scaleX(1);
      }

      .item-image-container {
        position: relative;
        height: 220px;
        overflow: hidden;
      }

      .item-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: var(--transition-slow);
      }

      .item-card:hover .item-image {
        transform: scale(1.1);
      }

      .item-image-placeholder {
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          var(--reddit-card) 0%,
          var(--reddit-card-hover) 100%
        );
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--reddit-text-secondary);
        font-size: 48px;
      }

      .item-overlay {
        position: absolute;
        bottom: 16px;
        left: 16px;
        right: 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .item-type {
        padding: 8px 16px;
        border-radius: 25px;
        font-size: 12px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .item-type.lost {
        background: var(--gradient-danger);
        color: white;
        box-shadow: 0 4px 16px rgba(239, 68, 68, 0.3);
      }

      .item-type.found {
        background: var(--gradient-success);
        color: white;
        box-shadow: 0 4px 16px rgba(16, 185, 129, 0.3);
      }

      .item-status {
        padding: 8px 16px;
        border-radius: 25px;
        font-size: 12px;
        font-weight: 700;
        background: var(--gradient-purple);
        color: white;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 4px 16px rgba(124, 58, 237, 0.3);
      }

      .item-content {
        padding: 28px;
      }

      .item-title {
        font-size: 22px;
        font-weight: 700;
        color: var(--reddit-text);
        margin-bottom: 12px;
        line-height: 1.3;
      }

      .item-description {
        color: var(--reddit-text-secondary);
        margin-bottom: 20px;
        line-height: 1.6;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .item-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--reddit-text-secondary);
        padding-top: 16px;
        border-top: 1px solid var(--reddit-border);
      }

      .item-location {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 500;
      }

      .item-date {
        font-weight: 500;
      }

      /* Enhanced Profile Section */
      .profile-section {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .profile-link {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: var(--reddit-text);
        background: var(--gradient-glass);
        padding: 12px 16px;
        border-radius: 16px;
        border: 1px solid var(--reddit-border);
        transition: var(--transition-normal);
        backdrop-filter: blur(10px);
      }

      .profile-link:hover {
        background: rgba(255, 255, 255, 0.15);
        border-color: var(--reddit-orange);
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }

      .profile-avatar {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid var(--reddit-border);
        position: relative;
        transition: var(--transition-normal);
      }

      .profile-avatar::after {
        content: "";
        position: absolute;
        bottom: -2px;
        right: -2px;
        width: 14px;
        height: 14px;
        background: var(--reddit-green);
        border: 3px solid var(--reddit-card);
        border-radius: 50%;
      }

      .profile-link:hover .profile-avatar {
        transform: scale(1.1);
        border-color: var(--reddit-orange);
      }

      .profile-info {
        display: flex;
        flex-direction: column;
      }

      .profile-name {
        font-weight: 600;
        font-size: 15px;
        margin-bottom: 2px;
      }

      .profile-label {
        font-size: 12px;
        color: var(--reddit-text-secondary);
      }

      /* Enhanced Section Headers */
      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 40px;
      }

      .section-title {
        font-size: 36px;
        font-weight: 800;
        color: var(--reddit-text);
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .section-accent {
        width: 6px;
        height: 40px;
        background: var(--gradient-reddit);
        border-radius: 3px;
        box-shadow: 0 0 20px rgba(255, 69, 0, 0.3);
      }

      .view-all-btn {
        background: var(--gradient-glass);
        border: 1px solid var(--reddit-border);
        padding: 14px 24px;
        border-radius: 12px;
        color: var(--reddit-text);
        text-decoration: none;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: var(--transition-normal);
        backdrop-filter: blur(10px);
      }

      .view-all-btn:hover {
        background: rgba(255, 255, 255, 0.15);
        border-color: var(--reddit-orange);
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }

      /* Enhanced Hero Section */
      .hero-section {
        text-align: center;
        margin-bottom: 80px;
        padding: 80px 0;
        position: relative;
      }

      .hero-title {
        font-size: clamp(48px, 8vw, 84px);
        font-weight: 900;
        color: var(--reddit-text);
        margin-bottom: 24px;
        line-height: 1.1;
        background: linear-gradient(
          135deg,
          var(--reddit-text) 0%,
          var(--reddit-orange) 50%,
          var(--reddit-purple) 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .hero-subtitle {
        font-size: clamp(20px, 4vw, 28px);
        color: var(--reddit-text-secondary);
        margin-bottom: 20px;
        font-weight: 400;
      }

      .hero-description {
        font-size: 20px;
        color: var(--reddit-text-secondary);
        max-width: 700px;
        margin: 0 auto;
        line-height: 1.6;
      }

      /* Reunited Logs Section */
      .reunited-logs {
        background: var(--gradient-card);
        border: 1px solid var(--reddit-border);
        border-radius: 24px;
        padding: 40px;
        margin-bottom: 48px;
        backdrop-filter: blur(10px);
        display: none;
      }

      .reunited-logs.active {
        display: block;
        animation: slideIn 0.5s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .log-item {
        background: var(--gradient-glass);
        border: 1px solid var(--reddit-border);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 20px;
        transition: var(--transition-normal);
      }

      .log-item:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg);
        border-color: var(--reddit-orange);
      }

      .log-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .log-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--reddit-text);
      }

      .log-date {
        font-size: 14px;
        color: var(--reddit-text-secondary);
      }

      .log-details {
        color: var(--reddit-text-secondary);
        line-height: 1.6;
        margin-bottom: 16px;
      }

      .log-participants {
        display: flex;
        gap: 16px;
        font-size: 14px;
      }

      .participant {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
      }

      /* Enhanced Loading States */
      .loading {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 80px 32px;
        color: var(--reddit-text-secondary);
      }

      .spinner {
        width: 56px;
        height: 56px;
        border: 5px solid var(--reddit-border);
        border-top: 5px solid var(--reddit-orange);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 20px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Enhanced Toast Notifications */
      .toast {
        position: fixed;
        bottom: 32px;
        right: 32px;
        padding: 20px 28px;
        border-radius: 16px;
        color: white;
        font-weight: 600;
        box-shadow: var(--shadow-xl);
        transform: translateX(400px);
        transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 1000;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        max-width: 400px;
      }

      .toast.show {
        transform: translateX(0);
      }

      .toast.success {
        background: var(--gradient-success);
      }

      .toast.error {
        background: var(--gradient-danger);
      }

      .toast.warning {
        background: var(--gradient-warning);
      }

      /* Enhanced Responsive Design */
      @media (max-width: 768px) {
        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
        }

        .items-grid {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .filter-buttons {
          flex-direction: column;
          align-items: stretch;
        }

        .search-container {
          padding: 24px;
        }

        .search-input {
          padding: 16px 20px 16px 56px;
          font-size: 16px;
        }

        .section-title {
          font-size: 28px;
        }

        .hero-section {
          padding: 40px 0;
        }

        .profile-section {
          gap: 8px;
        }

        .profile-info {
          display: none;
        }
      }

      /* Container */
      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 24px;
      }

      .pt-nav {
        padding-top: 120px;
      }

      /* Utilities */
      .text-center {
        text-align: center;
      }
      .mb-8 {
        margin-bottom: 32px;
      }
      .mb-16 {
        margin-bottom: 64px;
      }
      .flex {
        display: flex;
      }
      .items-center {
        align-items: center;
      }
      .justify-between {
        justify-content: space-between;
      }
      .gap-4 {
        gap: 16px;
      }
      .gap-6 {
        gap: 24px;
      }
      .hidden {
        display: none !important;
      }

      /* Tab Navigation */
      .tab-navigation {
        display: flex;
        gap: 8px;
        margin-bottom: 32px;
        background: var(--gradient-glass);
        padding: 8px;
        border-radius: 16px;
        border: 1px solid var(--reddit-border);
        backdrop-filter: blur(10px);
      }

      .tab-btn {
        flex: 1;
        padding: 16px 24px;
        background: transparent;
        border: none;
        border-radius: 12px;
        color: var(--reddit-text-secondary);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition-normal);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .tab-btn.active {
        background: var(--gradient-reddit);
        color: white;
        box-shadow: var(--shadow-reddit);
      }

      .tab-btn:hover:not(.active) {
        background: rgba(255, 255, 255, 0.1);
        color: var(--reddit-text);
      }
    </style>
  </head>
  <body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>

    <!-- Navigation Bar -->
    <nav id="navbar" class="nav-container">
      <div class="container">
        <div class="flex items-center justify-between" style="padding: 16px 0">
          <a href="#" class="nav-brand">
            <div class="nav-logo">
              <i class="fas fa-search-location"></i>
            </div>
            <div>
              <div class="nav-title">BUP Lost & Found</div>
              <div class="nav-subtitle">Campus Bulletin System</div>
            </div>
          </a>

          <div class="flex items-center gap-4">
            <button id="postItemBtn" class="btn btn-primary">
              <i class="fas fa-plus"></i>
              <span>Post Item</span>
            </button>

            <!-- Profile Section -->
            <div class="profile-section">
              <a href="profile.html" class="profile-link" id="profileLink">
                <img
                  id="profileImage"
                  src="https://ui-avatars.com/api/?name=User&background=ff4500&color=fff&size=100"
                  alt="Profile"
                  class="profile-avatar"
                />
                <div class="profile-info">
                  <span id="userName" class="profile-name">Loading...</span>
                  <span class="profile-label">View Profile</span>
                </div>
              </a>

              <button id="logoutBtn" class="btn btn-secondary">
                <i class="fas fa-sign-out-alt"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="container pt-nav">
      <!-- Hero Section -->
      <section class="hero-section">
        <h1 class="hero-title">Campus Lost & Found</h1>
        <p class="hero-subtitle">Reuniting Items with Owners</p>
        <p class="hero-description">
          Advanced bulletin system for Bangladesh University of Professionals
          community. Connect, share, and help each other find what's been lost.
        </p>
      </section>

      <!-- Tab Navigation -->
      <div class="tab-navigation">
        <button id="tabItems" class="tab-btn active">
          <i class="fas fa-th-large"></i>
          Items Dashboard
        </button>
        <button id="tabReunited" class="tab-btn">
          <i class="fas fa-hands-helping"></i>
          Reunited Logs
        </button>
        <button id="tabSuggestions" class="tab-btn">
          <i class="fas fa-lightbulb"></i>
          Suggestions
        </button>
      </div>

      <!-- Items Dashboard Tab -->
      <div id="itemsTab" class="tab-content">
        <!-- Search and Filter Section -->
        <section class="search-container">
          <div class="search-input-group">
            <input
              type="text"
              id="searchInput"
              class="search-input"
              placeholder="Search for lost or found items..."
            />
            <i class="fas fa-search search-icon"></i>
          </div>

          <div class="filter-buttons">
            <button id="filterAll" class="filter-btn active">
              <i class="fas fa-th-large"></i>
              All Items
            </button>
            <button id="filterLost" class="filter-btn">
              <i class="fas fa-question-circle"></i>
              Lost Items
            </button>
            <button id="filterFound" class="filter-btn">
              <i class="fas fa-check-circle"></i>
              Found Items
            </button>
            <button id="filterMy" class="filter-btn">
              <i class="fas fa-user"></i>
              My Items
            </button>
          </div>
        </section>

        <!-- Statistics Cards -->
        <section class="stats-grid">
          <div class="stat-card total" data-filter="all">
            <div class="stat-icon">
              <i class="fas fa-boxes"></i>
            </div>
            <div class="stat-number" id="totalItems">0</div>
            <div class="stat-label">Total Items</div>
          </div>

          <div class="stat-card lost" data-filter="lost">
            <div class="stat-icon">
              <i class="fas fa-question-circle"></i>
            </div>
            <div class="stat-number" id="lostItems">0</div>
            <div class="stat-label">Lost Items</div>
          </div>

          <div class="stat-card found" data-filter="found">
            <div class="stat-icon">
              <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-number" id="foundItems">0</div>
            <div class="stat-label">Found Items</div>
          </div>

          <div class="stat-card reunited" data-filter="reunited">
            <div class="stat-icon">
              <i class="fas fa-hands-helping"></i>
            </div>
            <div class="stat-number" id="reunitedItems">0</div>
            <div class="stat-label">Reunited</div>
          </div>
        </section>

        <!-- Items Section -->
        <section class="mb-16">
          <div class="section-header">
            <h2 class="section-title">
              <div class="section-accent"></div>
              <span id="itemsSectionTitle">Recent Items</span>
            </h2>
            <button id="viewAllItemsBtn" class="view-all-btn">
              View All
              <i class="fas fa-arrow-right"></i>
            </button>
          </div>

          <div id="itemsContainer" class="items-grid">
            <!-- Loading state -->
            <div class="loading" style="grid-column: 1 / -1">
              <div class="spinner"></div>
              <p>Loading items...</p>
            </div>
          </div>
        </section>
      </div>

      <!-- Reunited Logs Tab -->
      <div id="reunitedTab" class="tab-content hidden">
        <section class="reunited-logs">
          <div class="section-header">
            <h2 class="section-title">
              <div class="section-accent"></div>
              Reunited Items Log
            </h2>
            <button id="refreshLogsBtn" class="btn btn-secondary">
              <i class="fas fa-sync-alt"></i>
              Refresh
            </button>
          </div>

          <div id="reunitedLogsContainer">
            <!-- Loading state -->
            <div class="loading">
              <div class="spinner"></div>
              <p>Loading reunited logs...</p>
            </div>
          </div>
        </section>
      </div>

      <!-- Suggestions Tab -->
      <div id="suggestionsTab" class="tab-content hidden">
        <!-- Suggestions Section -->
        <section class="suggestions-section">
          <div class="section-header">
            <h2 class="section-title">
              <div class="section-accent"></div>
              Community Suggestions
            </h2>
          </div>

          <!-- Post Suggestion -->
          <div
            class="suggestion-form card"
            style="padding: 32px; margin-bottom: 32px"
          >
            <div class="flex items-start gap-4">
              <img
                id="currentUserImage"
                src="https://ui-avatars.com/api/?name=User&background=ff4500&color=fff&size=100"
                alt="You"
                class="user-avatar"
                style="
                  width: 48px;
                  height: 48px;
                  border-radius: 50%;
                  object-fit: cover;
                  flex-shrink: 0;
                "
              />
              <div style="flex: 1">
                <textarea
                  id="suggestionInput"
                  class="suggestion-input"
                  placeholder="Share your suggestions to improve our service..."
                  style="
                    width: 100%;
                    background: rgba(255, 255, 255, 0.05);
                    border: 2px solid var(--reddit-border);
                    border-radius: 12px;
                    padding: 16px 20px;
                    color: var(--reddit-text);
                    font-size: 16px;
                    resize: vertical;
                    min-height: 120px;
                    transition: var(--transition-normal);
                  "
                ></textarea>
                <div
                  style="
                    display: flex;
                    justify-content: flex-end;
                    margin-top: 16px;
                  "
                >
                  <button id="postSuggestionBtn" class="btn btn-primary">
                    <i class="fas fa-paper-plane"></i>
                    Post Suggestion
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Suggestions List -->
          <div id="suggestionsContainer">
            <!-- Loading state -->
            <div class="loading">
              <div class="spinner"></div>
              <p>Loading suggestions...</p>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <script>
      // Global variables
      let currentUser = null;
      let currentFilter = "all";
      let currentSearchTerm = "";
      let currentTab = "items";

      // API Configuration
      const API_BASE = window.location.origin;
      let authToken =
        localStorage.getItem("authToken") || localStorage.getItem("token");

      // DOM Elements
      const profileImage = document.getElementById("profileImage");
      const currentUserImage = document.getElementById("currentUserImage");
      const userName = document.getElementById("userName");
      const searchInput = document.getElementById("searchInput");
      const filterAll = document.getElementById("filterAll");
      const filterLost = document.getElementById("filterLost");
      const filterFound = document.getElementById("filterFound");
      const filterMy = document.getElementById("filterMy");
      const totalItems = document.getElementById("totalItems");
      const lostItems = document.getElementById("lostItems");
      const foundItems = document.getElementById("foundItems");
      const reunitedItems = document.getElementById("reunitedItems");
      const itemsContainer = document.getElementById("itemsContainer");
      const suggestionInput = document.getElementById("suggestionInput");
      const postSuggestionBtn = document.getElementById("postSuggestionBtn");
      const suggestionsContainer = document.getElementById(
        "suggestionsContainer"
      );
      const postItemBtn = document.getElementById("postItemBtn");
      const viewAllItemsBtn = document.getElementById("viewAllItemsBtn");
      const logoutBtn = document.getElementById("logoutBtn");
      const navbar = document.getElementById("navbar");
      const itemsSectionTitle = document.getElementById("itemsSectionTitle");
      const reunitedLogsContainer = document.getElementById(
        "reunitedLogsContainer"
      );
      const refreshLogsBtn = document.getElementById("refreshLogsBtn");

      // Tab elements
      const tabItems = document.getElementById("tabItems");
      const tabReunited = document.getElementById("tabReunited");
      const tabSuggestions = document.getElementById("tabSuggestions");
      const itemsTab = document.getElementById("itemsTab");
      const reunitedTab = document.getElementById("reunitedTab");
      const suggestionsTab = document.getElementById("suggestionsTab");

      // Initialize the page
      document.addEventListener("DOMContentLoaded", async () => {
        await checkAuth();
        await loadUserData();
        await loadStats();
        await loadItems();
        await loadSuggestions();
        setupEventListeners();
        setupNavbarScroll();
      });

      // Check authentication
      async function checkAuth() {
        if (!authToken) {
          window.location.href = "/";
          return;
        }
      }

      // API Helper Functions
      async function apiCall(endpoint, options = {}) {
        const url = `${API_BASE}${endpoint}`;
        const config = {
          headers: {
            Authorization: `Bearer ${authToken}`,
            "Content-Type": "application/json",
            ...options.headers,
          },
          ...options,
        };

        try {
          const response = await fetch(url, config);
          const data = await response.json();

          if (!response.ok) {
            throw new Error(data.message || "API call failed");
          }

          return data;
        } catch (error) {
          console.error("API Error:", error);
          if (
            error.message.includes("401") ||
            error.message.includes("authorized")
          ) {
            logout();
          }
          throw error;
        }
      }

      // Load user data
      async function loadUserData() {
        try {
          const response = await apiCall("/api/users/me");
          currentUser = response.user;

          // Update UI with user data
          const userImageUrl = currentUser.profileImage
            ? `${API_BASE}${currentUser.profileImage}`
            : `https://ui-avatars.com/api/?name=${encodeURIComponent(
                currentUser.firstName + " " + currentUser.lastName
              )}&background=ff4500&color=fff&size=100`;

          profileImage.src = userImageUrl;
          profileImage.onerror = function () {
            this.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(
              currentUser.firstName + " " + currentUser.lastName
            )}&background=ff4500&color=fff&size=100`;
          };

          currentUserImage.src = userImageUrl;
          currentUserImage.onerror = function () {
            this.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(
              currentUser.firstName + " " + currentUser.lastName
            )}&background=ff4500&color=fff&size=100`;
          };

          userName.textContent = `${currentUser.firstName} ${currentUser.lastName}`;
        } catch (error) {
          console.error("Error loading user data:", error);
          showToast("Failed to load user data", "error");
          setTimeout(() => {
            window.location.href = "/";
          }, 2000);
        }
      }

      // Load statistics
      async function loadStats() {
        try {
          const response = await apiCall("/api/stats");
          const stats = response.stats;

          // Update stats with animation
          animateValue(totalItems, 0, stats.lostCount + stats.foundCount, 1500);
          animateValue(lostItems, 0, stats.lostCount, 1500);
          animateValue(foundItems, 0, stats.foundCount, 1500);
          animateValue(reunitedItems, 0, stats.reunitedCount, 1500);
        } catch (error) {
          console.error("Error loading stats:", error);
          totalItems.textContent = "--";
          lostItems.textContent = "--";
          foundItems.textContent = "--";
          reunitedItems.textContent = "--";
        }
      }

      // Animate counter values
      function animateValue(element, start, end, duration) {
        let startTimestamp = null;
        const step = (timestamp) => {
          if (!startTimestamp) startTimestamp = timestamp;
          const progress = Math.min((timestamp - startTimestamp) / duration, 1);
          element.textContent = Math.floor(progress * (end - start) + start);
          if (progress < 1) {
            window.requestAnimationFrame(step);
          }
        };
        window.requestAnimationFrame(step);
      }

      // Load items
      async function loadItems() {
        try {
          showLoading(itemsContainer, "Loading items...");

          const params = new URLSearchParams();

          if (currentFilter === "my") {
            params.append("postedBy", "me");
          } else if (currentFilter === "reunited") {
            params.append("status", "claimed");
            params.append("includeReunited", "true");
          } else if (currentFilter !== "all") {
            params.append("type", currentFilter);
          }

          if (currentSearchTerm) {
            params.append("search", currentSearchTerm);
          }

          const response = await apiCall(`/api/items?${params}`);
          renderItems(response.items);
          updateSectionTitle();
        } catch (error) {
          console.error("Error loading items:", error);
          showError(
            itemsContainer,
            "Failed to load items. Please try again later."
          );
        }
      }

      // Load reunited logs - FIXED VERSION
      async function loadReunitedLogs() {
        try {
          showLoading(reunitedLogsContainer, "Loading reunited logs...");

          // Fixed: Use the correct query parameters for reunited items
          const response = await apiCall(
            "/api/items?status=claimed&includeReunited=true"
          );
          renderReunitedLogs(response.items);
        } catch (error) {
          console.error("Error loading reunited logs:", error);
          showError(
            reunitedLogsContainer,
            "Failed to load reunited logs. Please try again later."
          );
        }
      }

      // Render reunited logs
      function renderReunitedLogs(items) {
        if (items.length === 0) {
          reunitedLogsContainer.innerHTML = `
            <div class="loading">
              <div style="color: var(--reddit-text-secondary); font-size: 48px; margin-bottom: 16px;">
                <i class="fas fa-heart"></i>
              </div>
              <p>No reunited items yet</p>
              <p style="color: var(--reddit-text-secondary); font-size: 14px; margin-top: 8px;">
                When items are successfully reunited, they'll appear here
              </p>
            </div>
          `;
          return;
        }

        reunitedLogsContainer.innerHTML = items
          .map(
            (item) => `
          <div class="log-item">
            <div class="log-header">
              <div class="log-title">
                <i class="fas fa-check-circle" style="color: var(--reddit-green); margin-right: 8px;"></i>
                ${item.title}
              </div>
              <div class="log-date">${formatDate(item.updatedAt)}</div>
            </div>
            <div class="log-details">
              <strong>Type:</strong> ${
                item.type === "lost" ? "Lost Item" : "Found Item"
              } | 
              <strong>Location:</strong> ${item.location}
              <br>
              <strong>Description:</strong> ${item.description}
            </div>
            <div class="log-participants">
              <div class="participant">
                <i class="fas fa-user"></i>
                <span>Posted by: ${item.postedBy.firstName} ${
              item.postedBy.lastName
            }</span>
              </div>
              ${
                item.claimedBy
                  ? `
                <div class="participant">
                  <i class="fas fa-handshake"></i>
                  <span>Reunited with: ${item.claimedBy.firstName} ${item.claimedBy.lastName}</span>
                </div>
              `
                  : ""
              }
            </div>
          </div>
        `
          )
          .join("");
      }

      // Update section title
      function updateSectionTitle() {
        let title = "Recent Items";

        switch (currentFilter) {
          case "lost":
            title = "Lost Items";
            break;
          case "found":
            title = "Found Items";
            break;
          case "my":
            title = "My Items";
            break;
          case "reunited":
            title = "Reunited Items";
            break;
          default:
            if (currentSearchTerm) {
              title = `Search Results for "${currentSearchTerm}"`;
            }
        }

        itemsSectionTitle.textContent = title;
      }

      // Show loading state
      function showLoading(container, message) {
        container.innerHTML = `
          <div class="loading" style="grid-column: 1 / -1;">
            <div class="spinner"></div>
            <p>${message}</p>
          </div>
        `;
      }

      // Show error state
      function showError(container, message) {
        container.innerHTML = `
          <div class="loading" style="grid-column: 1 / -1;">
            <div style="color: var(--reddit-red); font-size: 48px; margin-bottom: 16px;">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <p style="margin-bottom: 16px;">${message}</p>
            <button onclick="loadItems()" class="btn btn-primary">
              <i class="fas fa-redo"></i>
              Try Again
            </button>
          </div>
        `;
      }

      // Render items
      function renderItems(items) {
        if (items.length === 0) {
          itemsContainer.innerHTML = `
            <div class="loading" style="grid-column: 1 / -1;">
              <div style="color: var(--reddit-text-secondary); font-size: 48px; margin-bottom: 16px;">
                <i class="fas fa-box-open"></i>
              </div>
              <p>No items found</p>
              ${
                currentSearchTerm
                  ? `<p style="color: var(--reddit-text-secondary); font-size: 14px; margin-top: 8px;">Try a different search term</p>`
                  : `<p style="color: var(--reddit-text-secondary); font-size: 14px; margin-top: 8px;">Be the first to post an item!</p>`
              }
            </div>
          `;
          return;
        }

        itemsContainer.innerHTML = items
          .map(
            (item) => `
          <div class="item-card" data-id="${item._id}">
            <div class="item-image-container">
              ${
                item.image
                  ? `<img src="${API_BASE}${item.image}" alt="${item.title}" class="item-image">`
                  : `<div class="item-image-placeholder">
                   <i class="fas fa-image"></i>
                 </div>`
              }
              <div class="item-overlay">
                <span class="item-type ${item.type}">
                  ${item.type === "lost" ? "Lost" : "Found"}
                </span>
                ${
                  item.status === "claimed"
                    ? `<span class="item-status">Reunited</span>`
                    : ""
                }
              </div>
            </div>
            <div class="item-content">
              <h3 class="item-title">${item.title}</h3>
              <p class="item-description">${item.description}</p>
              <div class="item-footer">
                <div class="item-location">
                  <i class="fas fa-map-marker-alt"></i>
                  ${item.location}
                </div>
                <div class="item-date">
                  ${formatDate(item.createdAt)}
                </div>
              </div>
            </div>
          </div>
        `
          )
          .join("");

        // Add click handlers
        document.querySelectorAll(".item-card").forEach((card) => {
          card.addEventListener("click", () => {
            const itemId = card.getAttribute("data-id");
            window.location.href = `item.html?id=${itemId}`;
          });
        });
      }

      // Load suggestions
      async function loadSuggestions() {
        try {
          showLoading(suggestionsContainer, "Loading suggestions...");

          const response = await apiCall("/api/suggestions");
          renderSuggestions(response.suggestions);
        } catch (error) {
          console.error("Error loading suggestions:", error);
          showError(
            suggestionsContainer,
            "Failed to load suggestions. Please try again later."
          );
        }
      }

      // Render suggestions
      function renderSuggestions(suggestions) {
        if (suggestions.length === 0) {
          suggestionsContainer.innerHTML = `
            <div class="loading">
              <div style="color: var(--reddit-text-secondary); font-size: 48px; margin-bottom: 16px;">
                <i class="fas fa-comment-slash"></i>
              </div>
              <p>No suggestions yet. Be the first to share!</p>
            </div>
          `;
          return;
        }

        suggestionsContainer.innerHTML = suggestions
          .map(
            (suggestion) => `
          <div class="card" style="padding: 24px; margin-bottom: 20px;" data-id="${
            suggestion._id
          }">
            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
              <img src="${
                suggestion.postedBy.profileImage
                  ? `${API_BASE}${suggestion.postedBy.profileImage}`
                  : `https://ui-avatars.com/api/?name=${encodeURIComponent(
                      suggestion.postedBy.firstName +
                        " " +
                        suggestion.postedBy.lastName
                    )}&background=ff4500&color=fff&size=100`
              }" 
                   alt="${suggestion.postedBy.firstName}" 
                   style="width: 48px; height: 48px; border-radius: 50%; object-fit: cover; border: 2px solid var(--reddit-border);"
                   onerror="this.src='https://ui-avatars.com/api/?name=${encodeURIComponent(
                     suggestion.postedBy.firstName +
                       " " +
                       suggestion.postedBy.lastName
                   )}&background=ff4500&color=fff&size=100'">
              <div>
                <h4 style="color: var(--reddit-text); font-weight: 600; margin-bottom: 4px;">
                  ${suggestion.postedBy.firstName} ${
              suggestion.postedBy.lastName
            }
                </h4>
                <span style="color: var(--reddit-text-secondary); font-size: 14px;">
                  ${formatTimeAgo(new Date(suggestion.createdAt))}
                </span>
              </div>
            </div>
            <div style="color: var(--reddit-text); line-height: 1.6; margin-bottom: 16px;">
              ${suggestion.content}
            </div>
            ${
              suggestion.postedBy._id === currentUser._id
                ? `
              <div style="display: flex; gap: 16px;">
                <button class="edit-suggestion-btn" data-id="${suggestion._id}" 
                        style="background: none; border: none; color: var(--reddit-text-secondary); cursor: pointer; display: flex; align-items: center; gap: 6px; font-size: 14px; font-weight: 500; transition: var(--transition-normal);">
                  <i class="fas fa-edit"></i>
                  Edit
                </button>
                <button class="delete-suggestion-btn" data-id="${suggestion._id}"
                        style="background: none; border: none; color: var(--reddit-text-secondary); cursor: pointer; display: flex; align-items: center; gap: 6px; font-size: 14px; font-weight: 500; transition: var(--transition-normal);">
                  <i class="fas fa-trash"></i>
                  Delete
                </button>
              </div>
            `
                : ""
            }
          </div>
        `
          )
          .join("");

        // Add event listeners for edit/delete buttons
        document.querySelectorAll(".edit-suggestion-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.stopPropagation();
            const suggestionId = btn.getAttribute("data-id");
            editSuggestion(suggestionId);
          });
        });

        document.querySelectorAll(".delete-suggestion-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.stopPropagation();
            const suggestionId = btn.getAttribute("data-id");
            deleteSuggestion(suggestionId);
          });
        });
      }

      // Format time ago
      function formatTimeAgo(date) {
        const seconds = Math.floor((new Date() - date) / 1000);

        let interval = Math.floor(seconds / 31536000);
        if (interval >= 1) return `${interval}y ago`;

        interval = Math.floor(seconds / 2592000);
        if (interval >= 1) return `${interval}mo ago`;

        interval = Math.floor(seconds / 86400);
        if (interval >= 1) return `${interval}d ago`;

        interval = Math.floor(seconds / 3600);
        if (interval >= 1) return `${interval}h ago`;

        interval = Math.floor(seconds / 60);
        if (interval >= 1) return `${interval}m ago`;

        return "Just now";
      }

      // Format date
      function formatDate(dateString) {
        const date = new Date(dateString);
        const now = new Date();
        const diffTime = Math.abs(now - date);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

        if (diffDays === 1) return "Yesterday";
        if (diffDays < 7) return `${diffDays} days ago`;
        if (diffDays < 30) return `${Math.ceil(diffDays / 7)} weeks ago`;
        if (diffDays < 365) return `${Math.ceil(diffDays / 30)} months ago`;
        return `${Math.ceil(diffDays / 365)} years ago`;
      }

      // Post new suggestion
      async function postSuggestion() {
        const content = suggestionInput.value.trim();
        if (!content) {
          showToast("Please enter your suggestion", "error");
          return;
        }

        try {
          postSuggestionBtn.disabled = true;
          postSuggestionBtn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Posting...';

          await apiCall("/api/suggestions", {
            method: "POST",
            body: JSON.stringify({ content }),
          });

          suggestionInput.value = "";
          showToast("Suggestion posted successfully!", "success");
          await loadSuggestions();
        } catch (error) {
          console.error("Error posting suggestion:", error);
          showToast("Failed to post suggestion. Please try again.", "error");
        } finally {
          postSuggestionBtn.disabled = false;
          postSuggestionBtn.innerHTML =
            '<i class="fas fa-paper-plane"></i> Post Suggestion';
        }
      }

      // Edit suggestion
      async function editSuggestion(suggestionId) {
        const suggestionCard = document.querySelector(
          `[data-id="${suggestionId}"]`
        );
        const contentElement = suggestionCard.querySelector("div:nth-child(2)");
        const originalContent = contentElement.textContent;

        contentElement.innerHTML = `
          <textarea style="width: 100%; background: rgba(255, 255, 255, 0.05); border: 2px solid var(--reddit-border); border-radius: 12px; padding: 16px 20px; color: var(--reddit-text); font-size: 16px; resize: vertical; min-height: 80px; margin-bottom: 16px;" rows="3">${originalContent}</textarea>
          <div style="display: flex; justify-content: flex-end; gap: 12px;">
            <button class="save-edit-btn btn btn-primary" style="padding: 8px 16px; font-size: 14px;">
              <i class="fas fa-save"></i> Save
            </button>
            <button class="cancel-edit-btn btn btn-secondary" style="padding: 8px 16px; font-size: 14px;">
              <i class="fas fa-times"></i> Cancel
            </button>
          </div>
        `;

        const textarea = contentElement.querySelector("textarea");
        textarea.focus();
        textarea.selectionStart = textarea.selectionEnd = textarea.value.length;

        const saveBtn = contentElement.querySelector(".save-edit-btn");
        const cancelBtn = contentElement.querySelector(".cancel-edit-btn");

        saveBtn.addEventListener("click", async () => {
          const newContent = textarea.value.trim();
          if (!newContent) {
            showToast("Suggestion cannot be empty", "error");
            return;
          }

          try {
            saveBtn.disabled = true;
            saveBtn.innerHTML =
              '<i class="fas fa-spinner fa-spin"></i> Saving...';

            await apiCall(`/api/suggestions/${suggestionId}`, {
              method: "PUT",
              body: JSON.stringify({ content: newContent }),
            });

            showToast("Suggestion updated successfully!", "success");
            await loadSuggestions();
          } catch (error) {
            console.error("Error updating suggestion:", error);
            showToast(
              "Failed to update suggestion. Please try again.",
              "error"
            );
          }
        });

        cancelBtn.addEventListener("click", () => {
          contentElement.innerHTML = originalContent;
        });
      }

      // Delete suggestion
      async function deleteSuggestion(suggestionId) {
        if (!confirm("Are you sure you want to delete this suggestion?")) {
          return;
        }

        try {
          await apiCall(`/api/suggestions/${suggestionId}`, {
            method: "DELETE",
          });

          showToast("Suggestion deleted successfully!", "success");
          await loadSuggestions();
        } catch (error) {
          console.error("Error deleting suggestion:", error);
          showToast("Failed to delete suggestion. Please try again.", "error");
        }
      }

      // Show toast notification
      function showToast(message, type) {
        const toast = document.createElement("div");
        toast.className = `toast ${type}`;
        toast.innerHTML = `
          <div style="display: flex; align-items: center; gap: 12px;">
            <i class="fas ${
              type === "success"
                ? "fa-check-circle"
                : type === "error"
                ? "fa-exclamation-circle"
                : "fa-info-circle"
            }"></i>
            <span>${message}</span>
          </div>
        `;

        document.getElementById("toastContainer").appendChild(toast);

        // Show toast
        setTimeout(() => toast.classList.add("show"), 100);

        // Hide and remove toast
        setTimeout(() => {
          toast.classList.remove("show");
          setTimeout(() => toast.remove(), 300);
        }, 4000);
      }

      // Logout function
      async function logout() {
        try {
          localStorage.removeItem("authToken");
          localStorage.removeItem("token");
          localStorage.removeItem("user");
          showToast("Logged out successfully!", "success");
          setTimeout(() => {
            window.location.href = "/";
          }, 1000);
        } catch (error) {
          console.error("Logout error:", error);
          localStorage.removeItem("authToken");
          localStorage.removeItem("token");
          localStorage.removeItem("user");
          window.location.href = "/";
        }
      }

      // Switch tabs
      function switchTab(tabName) {
        // Update tab buttons
        document
          .querySelectorAll(".tab-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelectorAll(".tab-content")
          .forEach((content) => content.classList.add("hidden"));

        // Show selected tab
        currentTab = tabName;

        switch (tabName) {
          case "items":
            tabItems.classList.add("active");
            itemsTab.classList.remove("hidden");
            break;
          case "reunited":
            tabReunited.classList.add("active");
            reunitedTab.classList.remove("hidden");
            loadReunitedLogs();
            break;
          case "suggestions":
            tabSuggestions.classList.add("active");
            suggestionsTab.classList.remove("hidden");
            break;
        }
      }

      // Setup event listeners
      function setupEventListeners() {
        // Tab navigation
        tabItems.addEventListener("click", () => switchTab("items"));
        tabReunited.addEventListener("click", () => switchTab("reunited"));
        tabSuggestions.addEventListener("click", () =>
          switchTab("suggestions")
        );

        // Search functionality
        searchInput.addEventListener(
          "input",
          debounce(() => {
            currentSearchTerm = searchInput.value.trim();
            loadItems();
          }, 500)
        );

        searchInput.addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            currentSearchTerm = searchInput.value.trim();
            loadItems();
          }
        });

        // Filter buttons
        filterAll.addEventListener("click", () => {
          currentFilter = "all";
          updateFilterButtons();
          loadItems();
        });

        filterLost.addEventListener("click", () => {
          currentFilter = "lost";
          updateFilterButtons();
          loadItems();
        });

        filterFound.addEventListener("click", () => {
          currentFilter = "found";
          updateFilterButtons();
          loadItems();
        });

        filterMy.addEventListener("click", () => {
          currentFilter = "my";
          updateFilterButtons();
          loadItems();
        });

        // Stats cards click handlers
        document.querySelectorAll(".stat-card").forEach((card) => {
          card.addEventListener("click", () => {
            const filter = card.getAttribute("data-filter");
            if (filter === "reunited") {
              switchTab("reunited");
            } else {
              currentFilter = filter;
              updateFilterButtons();
              loadItems();
            }
          });
        });

        // Post suggestion
        postSuggestionBtn.addEventListener("click", postSuggestion);

        // Post item button
        postItemBtn.addEventListener("click", () => {
          window.location.href = "post-item.html";
        });

        // View all items button
        viewAllItemsBtn.addEventListener("click", () => {
          currentFilter = "all";
          currentSearchTerm = "";
          searchInput.value = "";
          updateFilterButtons();
          loadItems();
        });

        // Refresh logs button
        refreshLogsBtn.addEventListener("click", loadReunitedLogs);

        // Logout button
        logoutBtn.addEventListener("click", logout);
      }

      // Debounce function
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      // Setup navbar scroll behavior
      function setupNavbarScroll() {
        let lastScrollTop = 0;
        window.addEventListener(
          "scroll",
          () => {
            let currentScrollTop =
              window.pageYOffset || document.documentElement.scrollTop;
            if (currentScrollTop > lastScrollTop && currentScrollTop > 100) {
              navbar.classList.add("nav-hidden");
            } else {
              navbar.classList.remove("nav-hidden");
            }
            lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop;
          },
          { passive: true }
        );
      }

      // Update filter buttons active state
      function updateFilterButtons() {
        [filterAll, filterLost, filterFound, filterMy].forEach((btn) => {
          btn.classList.remove("active");
        });

        switch (currentFilter) {
          case "all":
            filterAll.classList.add("active");
            break;
          case "lost":
            filterLost.classList.add("active");
            break;
          case "found":
            filterFound.classList.add("active");
            break;
          case "my":
            filterMy.classList.add("active");
            break;
        }
      }
    </script>
  </body>
</html>
